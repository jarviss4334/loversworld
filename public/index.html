<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>COUPLEWORLD Chat</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="chat-container">
    <div class="chat-header">
      <span id="gowri">COUPLEWORLD</span>
      <label class="switch">
        <input type="checkbox" id="effectToggle" checked />
        <span class="slider"></span>
      </label>
    </div>

    <ul id="messages"></ul>

    <form id="form" action="">
      <input id="input" autocomplete="off" placeholder="Type a message..." />
      <button>Send</button>
    </form>
  </div>

  <div id="lightning"></div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="script.js"></script>

  <script>
    // ðŸŒ¸ Create flower elements
    const flowers = ['ðŸŒ¸','ðŸŒº','ðŸŒ·','ðŸŒ¹','ðŸ’®','ðŸŒ¼'];
    const flowerElems = [];
    for (let i = 0; i < 20; i++) {
      const f = document.createElement('div');
      f.className = 'flower';
      f.textContent = flowers[Math.floor(Math.random() * flowers.length)];
      f.style.left = Math.random() * 100 + 'vw';
      f.style.animationDuration = 5 + Math.random() * 5 + 's';
      f.style.fontSize = 18 + Math.random() * 20 + 'px';
      document.body.appendChild(f);
      flowerElems.push(f);
    }

    // ðŸŒ¸ Toggle flower animation
    const toggle = document.getElementById('effectToggle');
    toggle.addEventListener('change', () => {
      flowerElems.forEach(f => f.style.display = toggle.checked ? 'block' : 'none');
    });

    // âš¡ Lightning effect
    const lightning = document.getElementById('lightning');
    setInterval(() => {
      if (!toggle.checked) return;
      lightning.classList.add('flash');
      setTimeout(() => lightning.classList.remove('flash'), 400);
    }, 8000 + Math.random() * 8000);
  </script>
</body>
</html>
